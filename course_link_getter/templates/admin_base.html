<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Catalog Admin</title>
    <style>
        body { font-family: -apple-system, system-ui, Segoe UI, Roboto, Arial, sans-serif; margin: 0; background: #f7f7f8; color: #1f2937; }
        header { background: #0f172a; color: #fff; padding: 12px 16px; }
        main { max-width: 1000px; margin: 16px auto; background: #fff; border: 1px solid #e5e7eb; border-radius: 8px; padding: 16px; }
        a { color: #2563eb; text-decoration: none; }
        a:hover { text-decoration: underline; }
        .btn { display: inline-block; background: #2563eb; color: #fff; padding: 8px 12px; border-radius: 6px; border: none; cursor: pointer; text-decoration: none; }
        .btn.secondary { background: #64748b; }
        .btn.danger { background: #dc2626; }
        .row { display: flex; gap: 8px; align-items: center; }
        .table { width: 100%; border-collapse: collapse; }
        .table th, .table td { border-bottom: 1px solid #e5e7eb; padding: 8px; text-align: left; }
        .flash { padding: 8px 12px; border-radius: 6px; margin-bottom: 12px; }
        .flash.success { background: #ecfdf5; color: #065f46; border: 1px solid #d1fae5; }
        .flash.danger { background: #fef2f2; color: #991b1b; border: 1px solid #fee2e2; }
        .flash.warning { background: #fffbeb; color: #92400e; border: 1px solid #fef3c7; }
        form .field { margin-bottom: 10px; }
        form label { display: block; font-weight: 600; margin-bottom: 4px; }
        form input, form select { width: 100%; padding: 8px; border: 1px solid #e5e7eb; border-radius: 6px; }
    </style>
    {% block head %}{% endblock %}
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    <script>
      window.addEventListener('DOMContentLoaded', () => {
        const container = document.getElementById('flash-container');
        {% for category, msg in messages %}
        const div = document.createElement('div');
        div.className = 'flash {{ category }}';
        div.innerText = {{ msg|tojson }};
        container.appendChild(div);
        {% endfor %}
      });
    </script>
    {% endif %}
    {% endwith %}
</head>
<body>
    <header>
        <div class="row" style="justify-content: space-between;">
            <div>Catalog Admin</div>
            <nav class="row" style="gap:12px;">
                <a class="btn" href="{{ url_for('index') }}">Courses</a>
                <a class="btn secondary" href="{{ url_for('add_course') }}">Add Course</a>
                <a class="btn" href="{{ url_for('list_categories') }}">Categories</a>
                <a class="btn secondary" href="{{ url_for('add_category') }}">Add Category</a>
            </nav>
        </div>
    </header>
    <main>
        <div id="flash-container"></div>
        {% block content %}{% endblock %}
    </main>
</body>
</html>


